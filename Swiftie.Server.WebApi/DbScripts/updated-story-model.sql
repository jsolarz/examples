CREATE TABLE [dbo].[Audios] (
    [Id] [int] NOT NULL IDENTITY,
    [Duration] [float] NOT NULL,
    [Url] [nvarchar](max),
    [Type] [int] NOT NULL,
    [Title] [nvarchar](max),
    CONSTRAINT [PK_dbo.Audios] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Images] (
    [Id] [int] NOT NULL IDENTITY,
    [Width] [int] NOT NULL,
    [Height] [int] NOT NULL,
    [Aspect] [float] NOT NULL,
    [ImageType] [nvarchar](max),
    [Url] [nvarchar](max),
    [Type] [int] NOT NULL,
    [Title] [nvarchar](max),
    CONSTRAINT [PK_dbo.Images] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Videos] (
    [Id] [int] NOT NULL IDENTITY,
    [Duration] [float] NOT NULL,
    [Width] [int] NOT NULL,
    [Height] [int] NOT NULL,
    [Aspect] [float] NOT NULL,
    [VideoType] [nvarchar](max),
    [Url] [nvarchar](max),
    [Type] [int] NOT NULL,
    [Title] [nvarchar](max),
    CONSTRAINT [PK_dbo.Videos] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[Stories] ADD [Audio_Id] [int]
ALTER TABLE [dbo].[Stories] ADD [Image_Id] [int]
ALTER TABLE [dbo].[Stories] ADD [Video_Id] [int]
CREATE INDEX [IX_Audio_Id] ON [dbo].[Stories]([Audio_Id])
CREATE INDEX [IX_Image_Id] ON [dbo].[Stories]([Image_Id])
CREATE INDEX [IX_Video_Id] ON [dbo].[Stories]([Video_Id])
ALTER TABLE [dbo].[Stories] ADD CONSTRAINT [FK_dbo.Stories_dbo.Audios_Audio_Id] FOREIGN KEY ([Audio_Id]) REFERENCES [dbo].[Audios] ([Id])
ALTER TABLE [dbo].[Stories] ADD CONSTRAINT [FK_dbo.Stories_dbo.Images_Image_Id] FOREIGN KEY ([Image_Id]) REFERENCES [dbo].[Images] ([Id])
ALTER TABLE [dbo].[Stories] ADD CONSTRAINT [FK_dbo.Stories_dbo.Videos_Video_Id] FOREIGN KEY ([Video_Id]) REFERENCES [dbo].[Videos] ([Id])
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'ImageUrl';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [ImageUrl]
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'ImageWidth';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [ImageWidth]
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'ImageHeight';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [ImageHeight]
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'ImageAspect';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [ImageAspect]
DECLARE @var4 nvarchar(128)
SELECT @var4 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'ImageType';
IF @var4 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var4 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [ImageType]
DECLARE @var5 nvarchar(128)
SELECT @var5 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoUrl';
IF @var5 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var5 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoUrl]
DECLARE @var6 nvarchar(128)
SELECT @var6 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoDuration';
IF @var6 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var6 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoDuration]
DECLARE @var7 nvarchar(128)
SELECT @var7 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoWidth';
IF @var7 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var7 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoWidth]
DECLARE @var8 nvarchar(128)
SELECT @var8 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoHeight';
IF @var8 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var8 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoHeight]
DECLARE @var9 nvarchar(128)
SELECT @var9 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoAspect';
IF @var9 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var9 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoAspect]
DECLARE @var10 nvarchar(128)
SELECT @var10 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'VideoVideoType';
IF @var10 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var10 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [VideoVideoType]
DECLARE @var11 nvarchar(128)
SELECT @var11 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'AudioUrl';
IF @var11 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var11 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [AudioUrl]
DECLARE @var12 nvarchar(128)
SELECT @var12 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.Stories')
AND col_name(parent_object_id, parent_column_id) = 'AudioDuration';
IF @var12 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[Stories] DROP CONSTRAINT [' + @var12 + ']')
ALTER TABLE [dbo].[Stories] DROP COLUMN [AudioDuration]
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201605201422130_updated-story-model', N'Swiftie.Server.WebApi.Migrations.Configuration',  0x1F8B0800000000000400ED1DD96EE436F27D81FD87463F2581D3ED6367901DD8091C7B9C183B3E90F624FB66D02D765B888E8E8E191B8BFDB27DD84FDA5F5852A224DE2225B65AE318030CDC3C8AC5625589552CB2FEF79FFF1EFFF01406934F3049FD383A991ECCF6A713182D63CF8FD627D33C5B7DFBDDF487EFFFFA97E3F75EF834F9B56A7784DBA19E517A327DCCB2CDBBF93C5D3EC210A4B3D05F26711AAFB2D9320EE7C08BE787FBFB7F9F1F1CCC21023145B02693E35FF228F34358FC403FCFE2680937590E82ABD883414ACA51CDA2803AB906214C3760094FA68BCFFE2AF3E16C011384F6EC37F870BAF16765BFE9E434F001C2690183D57402A228CE4086307EF731858B2C89A3F562830A4070F7BC81A8DD0A0429243379D734379DD4FE219ED4BCE958815AE669168796000F8E0895E67CF74EB49ED65444747C8FE89D3DE35917B43C995E7AB028FA250E1001F801DF9D05096E7C32BDAA87384D37D7309B551D6725C88B0481FB1C27BFCF68887B13E37E7B35571DCEF6F1BFBDC9591E6479024F2298670908F626B7F943E02FFF019FEFE2DF61747274F0B03AFAEECD5BE01DBDFD1B3C7A43CF14CD15B5630A50D16D126F60827083AB7AFED3C99CED37E73BD6DDA83E2555102F2101994EAEC0D30718ADB347243A87DF4D2717FE13F4AA12C25C1F231FC913EA942539FA799D07017808605D3FD78E89FFD78C7AF8E6AD9351AFC1277F5D2C3D373E129C04C9D52F30286AD3477F538A17B3DEF7A4D9451287F837CB5F65EDFD22CE93259E4CAC6C72079235CC58EC8EE70DF31AB13406E59EAD2BA8E3676D8CA9C8DED2A678425D24A11A626869A8F0DDEEB8C61CB7C8E2E459C766BA8FD5ACE8BD3791B66958E7C094752234A5E135E165941D1D4AE8495103CF13FE042398800C7AB720CB601235E2DAB6E6ADBC86FE345A73FD30E708B9B3046214ABB170D19D1FDAB3E9657A0E034841FA31468C0BA21E7AF834F7FC58AA870B36BA27F58D02A68A05CD4BD7C954AE0E91CB10ACA1061152CF2352142B1029EB6C11F9D5F7A08E22A49E47A428562052D6F5FA089175E8A8128ADEAF2AA15556F384EC8B89A0C668DEF662FA3109B6AE5630F87A10CC9C57D0F341596A89EE9D9F05BABD601784CD3757A55877E4EBA2F72B5FB7ADF06FBE973DB60DA707F133F4D78F593F18685B0B97594FE12A969CE1FE6D89D8AB189B8B31F9287614E3A2F7AB180FF4797A49DAA0E09C576D30326D40FB36DC7B4BC6EF29F9529C80EF43E0EBB8DAD40B6830CA591CADFC24EC60BA72D06E419AA2A5F57E06E9E3D6057201977982186A918170B3F5D16E1FE3085EE7E103969AE1C672B634779FE30BB044DFB8F711EED51BDE8778F97B9C67EF230F7B4C3E664BD1816208C0093AA7CB254CD30BC4CCD03B8BF3A8E7F70FABB25D7BE1CF02E0877A373C46F3BE6A27FAE1A96AA5239E6E63EB8DF910AFFDC800C3AA9D02C3B25A8F2169638B218664802069A6C0AFA8D5A3573671769251AC87FB8F7301F6A57FA147E09CDED28EA058BE41F6D3C548BF82201FC52EB5907DF7D250801DBF341468A2E24FC89A4A8C0EF8AAC608BC517BF9D961BBCC71980D2D0ECC34871E7C181D607E02B1D920BE2BC4A2CDAED39F45B0701CBB7D263F82145216346B8ACEB533C46DD01AAC7CFD19BF7676148C578796F926EA220E82F8B32A248422EA3DD5B2D94B491B08DB29792BDBFD1E9EB3AFD8F1D123D4EDE468926A2D92551B5B144B666FC1AF6C2447AED870EA302B1AD8ED45F3901235CAB175995E0460DD04CD7514BC1AA26B85F231421F80E019295F5A2CD895B882D890668FB48ABDCDC9745F5836A63139D7258D0FF48D89979D343E14295FD2982E3C4DD378E917849444E891F82A7648646F4FDA83AD44155BC6465D21A2FA58C3A3123C215E4BDD44650CC3E4745946309E8174093CF16B88A6E359205631A342F7CB90FB461813A94E98E04E003BAC52C4157E94897AD68F96FE0604AD54E27A1AEA683CF77A0CBEE61C6E6084076CA584C9E0F2382D8C403D0EB7286D143A9E531CA767443AC044B5D0D26893668549A054DBB2CAE149388648230B6F7F363BE045CD7292A54AD023C545B2F49E241BFD428B45A99F9C4FB2D44E7AA4B82899DE9364236B287844553A9CA4CC21D6A69FA4DE31D5E67450CD29F3C92930239EA2ADEA4E09A106549E1262988CAE0C881D427BCABC9F468BCEBB42C7C38E9C0356811971D56C9F1D59420DCD8E2C31BE2C762C7DDD466BCE39BEC7C38CACBB7D77BB4A914A4373224389D133A2DC57A05AF216C741B3EA8C6FA86D5761308484B134437CD379D722F34898602AB8275C9382F76D58EE053B92A0D02626E8B11E902E8BA407DDA2587AEC5C4BFF0B12A30C0951ED3A28687AFE808BE15326F1B2A05189A325257E637E2E18EC0266ECB167E3ED917A030482B040785DAA03D8E8DB16A0B5E34D004518ABA57F6104CABA13EBB06D4ED8BC924EA4B4BB5ABA17868BAC3BB1685ABA930B735A2A5A2D4B75F4AF85484C040BB0D579BD162CD9EA994C9908970C2223B21C2C4A86443CE91B885443F53D45FE7B67E449ABA753CB94F0DD34727C51702462C56F83D8891B1085B90E245243E9CC6975E75078D792ABA180CC834381A884D7D17C89CCAAE62BF1EBB47A763ACD9775E6D04B4DB48DA3F91225A39AAFC4C5D3EAE4E9345FD6AF4381A8D463EFF94AE39BD452AEF4FA18FB7DA849109D6220E732378D42D0AB39B8A54CA5A75B2823734018BB20BA5386F318282853CDC12D6588626D218CC414363586BB9385B55DB7FC61501CCE8A7431B0CC2C6C339E3ACD06404325BD2D660AB227916A2DA82791D45A33B6D77A9387B7CFDAD5784FB2943B533D4D44F3CDCC80EB4D0DC6666B134C0D21AAE3F1DA3CABEB8EE7E59B34A4E078AE78BCE6F80A6C367EB4A61EB321259345F992CDD9B70BFB875DC212C67CC9301C6F4CD623210E40FB0EAE160D8D30BDF093343B07197800F838FFCC0B85669C31AAD8DE5783D1F6A6B85AD566BF6A8DFF263B1AEDCD51DA4C159D5A04DA059A6588DD6245A08B4491CABB4FF0034320008924B6E62C0EF230527BE9D4BDCB6071BA7F592242389E73F80B8E38816E8297945D04A32512BF2ECE97AB7602745F32350815E12B7F264D7A958F530DA53A6BA7A1A8CEDF77B684EA8F4EC7852B5D2EF6ABA5E8B71DC972B3C0CC4B1F3428A6C21C1EF5DA0733B5A678346C43AC6E675C23F52318708DA2DF76B8A6B98ECB2C765D6AC17FF86E29C37CB8C0BC7F19484703284B2C2094D745191065D168788C783ADC7D5264BE1B93EF88BCDF76788CDCD5A60190227318D5656D1A4855660EA5BAAE4D43A9CA2C745AF37A034394A6F8556A9C4A0DF19739931AA907D0406A14FDC6AE995F9AFC51EF25D080A8E257F9732A7FAA8321B5F85DA6F8EF9BD557C606D1D73DADA1A1C4923C37400320459630A81BEB0230AACE1C2AFBA8000D93AD3187C8BD1C4083E4AA2CB0A4DF076090A42B3AC1535054DEC242408517011859156ACD214BDE06A0414BAA3BC096E0CCD7592870F1F90046978BD57606ACE81E6A4ADDABC35ED61D77937074DA0BF1BAE7171144E4AA8D70F791D957F8E932F1433F0208CBB1D15A4FA9D1119A0D531994CA0E9C9ECAF361078B5786D8F45B41058C313BD5A80709684054B1252CF2E480008C948F92AF94A7EB0EF8AA8CB1EAC7570A18EAEF2B73A99FFDBC6A5F2250C3646EEA335B18DD4B056A7876DCBB4BE3A23ECB74C61E74C09C3D63687BF75335DB26337B6C2B9E8CD4F16F36871F551FA3130E7CFC2CB96FCE05BC898431226A09431E994F8D6B8792F25242E775D622D3EC182E53FC32417D6DDC64A2FCC17C4726204181564C40FAF46302260AB02BC50B18CE9880896D1C1513A826EA880948A4A41513903EFD9880098DEC48F11286332660023E47C504AA89F6660245D49BFD1796EE6DF12995AC85365EAEE3AAD0301DB08B36FE6E548CA39FB853F6A9C3E93A304FDDB7AB4ED1C4108E8F65B898C43F2BC394CE910EDC527674A765E8A8C81EDCE29A4DE8D0CFD1F14827E610C246F926B565444AEADF75D82809D96C4F8428C470964DA693CA92460CF79C66309CE106B3C51FC159E043ECAFAE1A5C81C85FC1342B5F519A1EEE1F1C721914C793CD709EA61EF3B65A4B4A4376E10678852DFA0492E52348C497FF7A64FC6B800AF7402F230F3E9D4CFF55F47A578442E3BF8AE23DC4DC1F23FF8F1C55DC25399CFC5B7CAED8CD6383FA60CD91E6AB33A7EAE53FEFCBAE7B939B0449CCBBC93E47CB2E2BCC66B1B3C2A6ECDA031BCBDC76838B918F1554EB7385BD5EE8AC08FE55089EBEA661754C13E7A11F999334710F7E66FFDA79ED43A10868C049553F9697EC88D198EE766357FDFA8CDD588C766357FDFA8CCDEF21ED30607B9BE3619983EE65882E9F4B6715C4C05E48A8A430BDA4BF3CC9A2A6DB27DB8B05269669DA5EC6D233F98FBA509BCD7ED405029BFBA81BEF0989D07A71E09F869365AF147EA99CEC4689BD1079105281BDCA83ADA5F5055BB74C2A2B2954CE3AED9EB9AACB6E5A96B5AA175F493353F58228C93EE50A9E1312AAB24B7581A5CC2C25B3B94C262BCF34D5C9EE526599EAA23D9A08505B9F40D5D38DDF47F2E962C3F97A69831EF98F5EC63E605C6E282187502F3522E609DAF6575012CDF622D3E838FBF6DE8A59729CC1DE256B1B738FF204ED8BD628C37BA2E478DCF7587F61783503986B0F673935C69246A33E65D971F68CA19F36361E73F47932A8B854BB54160C14F23E2A05C5302D43A795573DF2E07CC9556F908803E92264075B697DB2102AF8D42E9FC70E575AF5D4C20E575A17063BD84AEB33A65011A676494D76B8D2AAE70176B8D2BA58D7A1132358A48D19533204F2BCB302A1A1F2C30CBD3B50DDB8B388341973229831311879E85B81D050195F866630D5D5BB313398796A9731F1D7AE8D9B5D7097B171B353E632781458FE24ABFB94246568AA195447FCA1BF69E99C3DF8C99A72873E9C7F602EB1C862E3884786DD420FCC13E61BE9D17182E4C8BAE7A7C85C590CAC2886FE90D832A1E61A8773A6E0AE4254E744C2D3D3FC2A920B2FB2A8FEB63446E5158893A9F7800DF2D25F7C9A6EAE61267F455F3558B3DD500ED834510F5AB5691F98282A6134522E1B42F5BA3B0F9A381805D0D5757719F6F2E42C02B54A8796482272875A0259910685874C1C2802E4EA62AE04B222E1886E855BD32FE957D66E30627D6B47246DF4C32AF287E8C6268699766CD2463FB62243073F36A3678551995AD978540371AC5D648292E6E690E5386B316C24509A4AFD5D33032238C9FCC4680BEAAD66DD4419E545DD6A7535A59EC99D1835453D0DBCCB29F5CCDFC4E847EADDD6DD4C69EB299A9492632C7F8CF655BCB7E59810DBC8C8D49F10CCA740F140946342B84FC0D49F0C43E863B9CBC46DC22521C94D5DAE2184E04B318331C2744A9DA6BF3D4528DEE1EF9526A93FCB7720959BA448E22D766448E6110ED92D7F9DC3D45F3720F0BDFC082E1913B26E7319ADE2CA94E530AA9A70E1485730031EB22F4F93CC5F816586AA71B4AE1FADA7D50B96EFC307E85D463779B6C9333465183E040C0F608B58377E91F989C5F9F866837FA52EA680D0F47194F34DF463EE075E8DF78524FE4D01029BDA24D60CAF658663CED6CF35A4EB38320444C8577B08EE60B80910B0F4265A804FB00B6E88033FC035583E37D18E2A20ED0BC192FDF8DC07EB04842981D1F4473F110F7BE1D3F7FF07208FCEE0FBB20000 , N'6.1.3-40302')

